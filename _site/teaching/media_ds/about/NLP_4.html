<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.262">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>CJL Lab - NLP</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">CJL Lab</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-courses" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Courses</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-courses">    
        <li>
    <a class="dropdown-item" href="../../../teaching/index.html">
 <span class="dropdown-text">All Courses</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../teaching/ds101/index.html">
 <span class="dropdown-text">Data Science 101</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../teaching/ml101/index.html">
 <span class="dropdown-text">Machine Learning 101</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../teaching/media_ds/index.html">
 <span class="dropdown-text">Media &amp; Data Science</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../teaching/cul_tech/index.html">
 <span class="dropdown-text">Culture &amp; Technology</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../teaching/data_journalism/index.html">
 <span class="dropdown-text">Data Journalism</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-research" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Research</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-research">    
        <li>
    <a class="dropdown-item" href="../../../research/index.html">
 <span class="dropdown-text">Publications</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../research/working.html">
 <span class="dropdown-text">Work in progress</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../proj/index.html">
 <span class="menu-text">Proj</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../blogs/index.html">
 <span class="menu-text">Blogs</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#lda-model" id="toc-lda-model" class="nav-link active" data-scroll-target="#lda-model">LDA Model</a></li>
  <li><a href="#dtm-long-form-to-wide" id="toc-dtm-long-form-to-wide" class="nav-link" data-scroll-target="#dtm-long-form-to-wide"><strong>DTM</strong> : long form to wide</a></li>
  <li><a href="#토픽별-주요-단어" id="toc-토픽별-주요-단어" class="nav-link" data-scroll-target="#토픽별-주요-단어">토픽별 주요 단어</a></li>
  <li><a href="#문서를-토픽별로-분류" id="toc-문서를-토픽별로-분류" class="nav-link" data-scroll-target="#문서를-토픽별로-분류">문서를 토픽별로 분류</a></li>
  <li><a href="#토픽-이름-짓기" id="toc-토픽-이름-짓기" class="nav-link" data-scroll-target="#토픽-이름-짓기">토픽 이름 짓기</a></li>
  <li><a href="#최적의-토픽-수-도출" id="toc-최적의-토픽-수-도출" class="nav-link" data-scroll-target="#최적의-토픽-수-도출">최적의 토픽 수 도출</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">NLP</h1>
<p class="subtitle lead">Topic model</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>This material is the contents of a seminar held at Sogang University on the subject of <code>Text mining in academic research</code>. [<a href="https://changjunlee.com/blogs/posts/8_text_mining_talk.html">Link</a>]</p>
<hr>
<section id="lda-model" class="level3">
<h3 class="anchored" data-anchor-id="lda-model">LDA Model</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 전처리하기</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.1     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.2     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.1     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>raw_news_comment <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/news_comment_parasite.csv"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">row_number</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4150 Columns: 5
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (4): reply, press, title, url
dttm (1): reg_time

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>raw_news_comment</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4,150 × 6
   reg_time            reply                             press title url      id
   &lt;dttm&gt;              &lt;chr&gt;                             &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt;
 1 2020-02-10 16:59:02 "정말 우리 집에 좋은 일이 생겨 …  MBC   '기…  http…     1
 2 2020-02-10 13:32:24 "와 너무 기쁘다! 이 시국에 정말 … SBS   [영…  http…     2
 3 2020-02-10 12:30:09 "우리나라의 영화감독분들 그리고 … 한겨… ‘기…  http…     3
 4 2020-02-10 13:08:22 "봉준호 감독과 우리나라 대한민국… 한겨… ‘기…  http…     4
 5 2020-02-10 16:25:41 "노벨상 탄느낌이네요\r\n축하축하… 한겨… ‘기…  http…     5
 6 2020-02-10 12:31:45 "기생충 상 받을때 박수 쳤어요.감… 한겨… ‘기…  http…     6
 7 2020-02-10 12:31:33 "대한민국 영화사를 새로 쓰고 계…  한겨… ‘기…  http…     7
 8 2020-02-11 09:20:52 "저런게 아카데미상 받으면  '태극… 한겨… ‘기…  http…     8
 9 2020-02-10 20:53:27 "다시한번 보여주세요 영화관에서 … 한겨… ‘기…  http…     9
10 2020-02-10 20:22:41 "대한민국 BTS와함께  봉준호감독…  한겨… ‘기…  http…    10
# ℹ 4,140 more rows</code></pre>
</div>
</div>
<p>기본적인 전처리</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 기본적인 전처리</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(textclean)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>news_comment <span class="ot">&lt;-</span> raw_news_comment <span class="sc">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reply =</span> <span class="fu">str_replace_all</span>(reply, <span class="st">"[^가-힣]"</span>, <span class="st">" "</span>),</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">reply =</span> <span class="fu">str_squish</span>(reply)) <span class="sc">%&gt;%</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(reply, <span class="at">.keep_all =</span> T) <span class="sc">%&gt;%</span> <span class="co"># 중복 댓글 제거</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_count</span>(reply, <span class="fu">boundary</span>(<span class="st">"word"</span>)) <span class="sc">&gt;=</span> <span class="dv">3</span>) <span class="co"># 짧은 문서 제거, 3단어 이상 추출</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>news_comment</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3,329 × 6
   reg_time            reply                             press title url      id
   &lt;dttm&gt;              &lt;chr&gt;                             &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt;
 1 2020-02-10 16:59:02 정말 우리 집에 좋은 일이 생겨 기… MBC   '기…  http…     1
 2 2020-02-10 13:32:24 와 너무 기쁘다 이 시국에 정말 내… SBS   [영…  http…     2
 3 2020-02-10 12:30:09 우리나라의 영화감독분들 그리고 …  한겨… ‘기…  http…     3
 4 2020-02-10 13:08:22 봉준호 감독과 우리나라 대한민국 … 한겨… ‘기…  http…     4
 5 2020-02-10 16:25:41 노벨상 탄느낌이네요 축하축하 합…  한겨… ‘기…  http…     5
 6 2020-02-10 12:31:45 기생충 상 받을때 박수 쳤어요 감…  한겨… ‘기…  http…     6
 7 2020-02-10 12:31:33 대한민국 영화사를 새로 쓰고 계시… 한겨… ‘기…  http…     7
 8 2020-02-11 09:20:52 저런게 아카데미상 받으면 태극기 … 한겨… ‘기…  http…     8
 9 2020-02-10 20:53:27 다시한번 보여주세요 영화관에서 …  한겨… ‘기…  http…     9
10 2020-02-10 20:22:41 대한민국 와함께 봉준호감독님까지… 한겨… ‘기…  http…    10
# ℹ 3,319 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. 명사 추출하기</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(KoNLP)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Checking user defined dictionary!</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 명사 추출</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>comment <span class="ot">&lt;-</span> news_comment <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">input =</span> reply,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">output =</span> word,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">token =</span> extractNoun,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">drop =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_count</span>(word) <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> <span class="co"># 댓글 내 중복 단어 제거</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(word, <span class="at">.keep_all =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, word) </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>comment</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 21,702 × 2
      id word      
   &lt;int&gt; &lt;chr&gt;     
 1     1 우리      
 2     1 행복      
 3     2 시국      
 4     2 감사      
 5     2 진심으    
 6     3 우리나라  
 7     3 영화감독  
 8     3 영감      
 9     3 봉감독님  
10     3 공동각본쓴
# ℹ 21,692 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. 빈도 높은 단어 제거하기</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>count_word <span class="ot">&lt;-</span> comment <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_count</span>(word) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&lt;=</span> <span class="dv">200</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>n)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>count_word</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 18,988 × 2
      id word      
   &lt;int&gt; &lt;chr&gt;     
 1     1 우리      
 2     1 행복      
 3     2 시국      
 4     2 감사      
 5     2 진심으    
 6     3 우리나라  
 7     3 영화감독  
 8     3 영감      
 9     3 봉감독님  
10     3 공동각본쓴
# ℹ 18,978 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. 불용어 제거하기, 유의어 처리하기</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 불용어, 유의어 확인하기</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>count_word <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">200</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7,271 × 2
    word             n
    &lt;chr&gt;        &lt;int&gt;
  1 진짜           200
  2 작품상         195
  3 자랑           185
  4 블랙리스트     170
  5 조국           166
  6 대박           142
  7 세계           138
  8 수상           129
  9 역사            97
 10 들이            96
 11 축하합니        95
 12 우리나라        94
 13 감독상          91
 14 진심            90
 15 박근혜          89
 16 정치            89
 17 사람            88
 18 봉감독님        86
 19 작품            85
 20 축하드립니      85
 21 배우            84
 22 좌파            83
 23 한국영화        83
 24 최고            78
 25 우리            76
 26 국민            75
 27 문화            73
 28 관왕            69
 29 봉감독          67
 30 가족            64
 31 생각            64
 32 수상소감        64
 33 오늘            63
 34 한국            62
 35 나라            60
 36 자랑스럽습니    60
 37 시상식          58
 38 문재            54
 39 미국            54
 40 각본상          53
 41 소름            53
 42 정권            52
 43 빨갱이          49
 44 오스카          48
 45 인정            48
 46 감동            47
 47 소감            44
 48 한국인          44
 49 감사            43
 50 소식            40
 51 아카데미상      39
 52 하나            39
 53 위상            37
 54 감격            36
 55 봉준호가        36
 56 전세계          36
 57 정부            36
 58 근데            35
 59 대통령          35
 60 송강호          35
 61 외국            35
 62 쾌거            35
 63 보수            34
 64 현실            34
 65 순간            33
 66 영화제          33
 67 와우            33
 68 기사            32
 69 눈물            32
 70 경사            31
 71 봉준호감독      31
 72 영화계          31
 73 한국의          31
 74 국제            30
 75 때문            29
 76 사회            29
 77 영광            29
 78 자랑스럽        29
 79 자한당          29
 80 마지막          28
 81 이번            28
 82 기분            27
 83 인간            27
 84 해서            27
 85 감사합니        26
 86 국가            26
 87 누구            26
 88 뉴스            26
 89 로컬            26
 90 봉준            25
 91 얘기            25
 92 기생            24
 93 봉준호감독님    24
 94 영화상          24
 95 왜구            24
 96 좌빨            24
 97 훌륭            24
 98 반미            23
 99 수준            23
100 정경            23
101 내용            22
102 방탄            22
103 위대            22
104 이것            22
105 이미경          22
106 진정            22
107 하기            22
108 사람들          21
109 세상            21
110 숟가락          21
111 계획            20
112 문화계          20
113 미국에서        20
114 봉준호는        20
115 이야기          20
116 재미            20
117 정신            20
118 당신            19
119 쓰레기          19
120 완전            19
121 우파            19
122 최초            19
123 행복            19
124 가슴            18
125 강국            18
126 국위선양        18
127 댓글            18
128 문재앙          18
129 사건            18
130 사실            18
131 자신            18
132 정도            18
133 존경            18
134 천재            18
135 각본            17
136 스텝            17
137 시절            17
138 실화            17
139 예술            17
140 올해            17
141 이상            17
142 자기            17
143 중요            17
144 고생            16
145 모두            16
146 미국인          16
147 박수            16
148 발전            16
149 부회장          16
150 상상            16
151 역대            16
152 의미            16
153 최우수작품상    16
154 토착            16
155 노벨상          15
156 다들            15
157 다시한번        15
158 다음            15
159 발표            15
160 소리            15
161 시대            15
162 여기            15
163 예전            15
164 오스카상        15
165 월드컵          15
166 한국어          15
167 합니            15
168 해외            15
169 후보            15
170 그것            14
171 덕분            14
172 리스            14
173 모습            14
174 생중계          14
175 이름            14
176 이명            14
177 정치인          14
178 표현            14
179 한국이          14
180 한류            14
181 황금종려상      14
182 만큼            13
183 상이            13
184 소재            13
185 아시아          13
186 여자            13
187 예상            13
188 위조            13
189 이걸            13
190 이유            13
191 이해            13
192 자체            13
193 주모            13
194 최우수          13
195 한국에          13
196 가치            12
197 경제            12
198 관심            12
199 기적            12
200 네이버          12
# ℹ 7,071 more rows</code></pre>
</div>
</div>
<p>이 부분은 상당히 context dependent 하면서 labour intensive 한 작업들..</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 불용어 목록 만들기</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>stopword <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"들이"</span>, <span class="st">"하다"</span>, <span class="st">"하게"</span>, <span class="st">"하면"</span>, <span class="st">"해서"</span>, <span class="st">"이번"</span>, <span class="st">"하네"</span>,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>              <span class="st">"해요"</span>, <span class="st">"이것"</span>, <span class="st">"니들"</span>, <span class="st">"하기"</span>, <span class="st">"하지"</span>, <span class="st">"한거"</span>, <span class="st">"해주"</span>,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>              <span class="st">"그것"</span>, <span class="st">"어디"</span>, <span class="st">"여기"</span>, <span class="st">"까지"</span>, <span class="st">"이거"</span>, <span class="st">"하신"</span>, <span class="st">"만큼"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 불용어, 유의어 처리하기</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>count_word <span class="ot">&lt;-</span> count_word <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>word <span class="sc">%in%</span> stopword) <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">recode</span>(word,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"자랑스럽습니"</span> <span class="ot">=</span> <span class="st">"자랑"</span>,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"자랑스럽"</span> <span class="ot">=</span> <span class="st">"자랑"</span>,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"자한"</span> <span class="ot">=</span> <span class="st">"자유한국당"</span>,</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"문재"</span> <span class="ot">=</span> <span class="st">"문재인"</span>,</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"한국의"</span> <span class="ot">=</span> <span class="st">"한국"</span>,</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"그네"</span> <span class="ot">=</span> <span class="st">"박근혜"</span>,</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"추카"</span> <span class="ot">=</span> <span class="st">"축하"</span>,</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"정경"</span> <span class="ot">=</span> <span class="st">"정경심"</span>,</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"방탄"</span> <span class="ot">=</span> <span class="st">"방탄소년단"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ***불용어 목록을 파일로 만들어 활용하기</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co"># tibble 구조로 불용어 목록 만들기</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>stopword <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">word =</span> <span class="fu">c</span>(<span class="st">"들이"</span>, <span class="st">"하다"</span>, <span class="st">"하게"</span>, <span class="st">"하면"</span>, <span class="st">"해서"</span>, <span class="st">"이번"</span>, <span class="st">"하네"</span>,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"해요"</span>, <span class="st">"이것"</span>, <span class="st">"니들"</span>, <span class="st">"하기"</span>, <span class="st">"하지"</span>, <span class="st">"한거"</span>, <span class="st">"해주"</span>,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"그것"</span>, <span class="st">"어디"</span>, <span class="st">"여기"</span>, <span class="st">"까지"</span>, <span class="st">"이거"</span>, <span class="st">"하신"</span>, <span class="st">"만큼"</span>))</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 불용어 목록 저장하기</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co"># readr::write_csv(stopword, "stopword.csv")</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 불용어 목록 불러오기</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co"># stopword &lt;- read_csv("stopword.csv")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>아래 둘 중 하나 선택</p>
<ol type="1">
<li>불용어 제거 by using <code>filter()</code></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 불용어 제거하기 - filter()</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>count_word <span class="ot">&lt;-</span> count_word <span class="sc">%&gt;%</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>word <span class="sc">%in%</span> stopword<span class="sc">$</span>word)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>불용어 제거 by using <code>anti_join()</code></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 불용어 제거하기 - dplyr::anti_join()</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>count_word <span class="ot">&lt;-</span> count_word <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stopword, <span class="at">by =</span> <span class="st">"word"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># LDA 모델 만들기</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. DTM 만들기</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 문서별 단어 빈도 구하기</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>count_word_doc <span class="ot">&lt;-</span> count_word <span class="sc">%&gt;%</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(id, word, <span class="at">sort =</span> T)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>count_word_doc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 18,715 × 3
      id word       n
   &lt;int&gt; &lt;chr&gt;  &lt;int&gt;
 1   206 자랑       2
 2   566 자랑       2
 3   578 자랑       2
 4   598 자랑       2
 5  1762 한국       2
 6     1 우리       1
 7     1 행복       1
 8     2 감사       1
 9     2 시국       1
10     2 진심으     1
# ℹ 18,705 more rows</code></pre>
</div>
</div>
</section>
<section id="dtm-long-form-to-wide" class="level3">
<h3 class="anchored" data-anchor-id="dtm-long-form-to-wide"><strong>DTM</strong> : long form to wide</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># DTM 만들기</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("tm")</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>dtm_comment <span class="ot">&lt;-</span> count_word_doc <span class="sc">%&gt;%</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cast_dtm</span>(<span class="at">document =</span> id, <span class="at">term =</span> word, <span class="at">value =</span> n)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>dtm_comment</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;&lt;DocumentTermMatrix (documents: 3268, terms: 7255)&gt;&gt;
Non-/sparse entries: 18715/23690625
Sparsity           : 100%
Maximal term length: 35
Weighting          : term frequency (tf)</code></pre>
</div>
</div>
<p><strong>LDA Model:</strong> <code>LDA()</code> No.&nbsp;of topics: k</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. LDA 모델 만들기</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("topicmodels")</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 토픽 모델 만들기</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(topicmodels)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>lda_model <span class="ot">&lt;-</span> <span class="fu">LDA</span>(dtm_comment,</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">k =</span> <span class="dv">8</span>,</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">method =</span> <span class="st">"Gibbs"</span>,</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">control =</span> <span class="fu">list</span>(<span class="at">seed =</span> <span class="dv">1234</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 모델 내용 확인</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(lda_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Formal class 'LDA_Gibbs' [package "topicmodels"] with 16 slots
  ..@ seedwords      : NULL
  ..@ z              : int [1:18720] 8 8 2 7 8 6 6 2 5 7 ...
  ..@ alpha          : num 6.25
  ..@ call           : language LDA(x = dtm_comment, k = 8, method = "Gibbs", control = list(seed = 1234))
  ..@ Dim            : int [1:2] 3268 7255
  ..@ control        :Formal class 'LDA_Gibbscontrol' [package "topicmodels"] with 14 slots
  ..@ k              : int 8
  ..@ terms          : chr [1:7255] "자랑" "한국" "우리" "행복" ...
  ..@ documents      : chr [1:3268] "206" "566" "578" "598" ...
  ..@ beta           : num [1:8, 1:7255] -10.38 -10.32 -7.95 -5.53 -10.3 ...
  ..@ gamma          : num [1:3268, 1:8] 0.116 0.127 0.116 0.127 0.14 ...
  ..@ wordassignments:List of 5
  .. ..$ i   : int [1:18715] 1 1 1 2 2 2 2 2 2 3 ...
  .. ..$ j   : int [1:18715] 1 521 522 1 589 1194 1195 1196 1197 1 ...
  .. ..$ v   : num [1:18715] 6 2 3 6 1 2 5 7 1 6 ...
  .. ..$ nrow: int 3268
  .. ..$ ncol: int 7255
  .. ..- attr(*, "class")= chr "simple_triplet_matrix"
  ..@ loglikelihood  : num -140602
  ..@ iter           : int 2000
  ..@ logLiks        : num(0) 
  ..@ n              : int 18720</code></pre>
</div>
</div>
</section>
<section id="토픽별-주요-단어" class="level3">
<h3 class="anchored" data-anchor-id="토픽별-주요-단어">토픽별 주요 단어</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 토픽별 단어 확률, beta 추출하기</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>term_topic <span class="ot">&lt;-</span> <span class="fu">tidy</span>(lda_model, <span class="at">matrix =</span> <span class="st">"beta"</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>term_topic</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 58,040 × 3
   topic term       beta
   &lt;int&gt; &lt;chr&gt;     &lt;dbl&gt;
 1     1 자랑  0.0000309
 2     2 자랑  0.0000329
 3     3 자랑  0.000353 
 4     4 자랑  0.00396  
 5     5 자랑  0.0000335
 6     6 자랑  0.0479   
 7     7 자랑  0.00693  
 8     8 자랑  0.0312   
 9     1 한국  0.00436  
10     2 한국  0.0000329
# ℹ 58,030 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 토픽별 단어 수</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>term_topic <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(topic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 2
  topic     n
  &lt;int&gt; &lt;int&gt;
1     1  7255
2     2  7255
3     3  7255
4     4  7255
5     5  7255
6     6  7255
7     7  7255
8     8  7255</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 토픽 1의 beta 합계</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>term_topic <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(topic <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sum_beta =</span> <span class="fu">sum</span>(beta))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  sum_beta
     &lt;dbl&gt;
1        1</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 특정 단어의 토픽별 확률 살펴보기</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>term_topic <span class="sc">%&gt;%</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"작품상"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 3
  topic term        beta
  &lt;int&gt; &lt;chr&gt;      &lt;dbl&gt;
1     1 작품상 0.0594   
2     2 작품상 0.0000329
3     3 작품상 0.0000321
4     4 작품상 0.0000327
5     5 작품상 0.000368 
6     6 작품상 0.0000323
7     7 작품상 0.000690 
8     8 작품상 0.0000338</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 특정 토픽에서 beta가 높은 단어 살펴보기</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>term_topic <span class="sc">%&gt;%</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(topic <span class="sc">==</span> <span class="dv">6</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>beta)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7,255 × 3
   topic term          beta
   &lt;int&gt; &lt;chr&gt;        &lt;dbl&gt;
 1     6 자랑       0.0479 
 2     6 역사       0.0307 
 3     6 한국       0.0252 
 4     6 한국영화   0.0207 
 5     6 세계       0.0172 
 6     6 감동       0.0139 
 7     6 미국       0.0107 
 8     6 감격       0.00973
 9     6 아카데미상 0.00941
10     6 영화계     0.00876
# ℹ 7,245 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 모든 토픽의 주요 단어 살펴보기</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">terms</span>(lda_model, <span class="dv">20</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        Topic.1    Topic.2  Topic.3  Topic.4    Topic.5    Topic.6  Topic.7
1        작품상 블랙리스트     수상     조국       정치       자랑     진짜
2          대박     박근혜     사람     가족     봉감독       역사     우리
3          진심       좌파 우리나라     국민   축하합니       한국   문재인
4        감독상       정부     생각     보수       세계   한국영화     정권
5          작품       근데   오스카     현실       대박       세계     최고
6    축하드립니     빨갱이     쾌거     최고       나라       감동     문화
7        시상식     송강호     문화     순간       소감       미국   대통령
8        각본상     영화제 봉감독님 봉준호가     한국인       감격     국제
9          관왕       관왕     누구   빨갱이       눈물 아카데미상 봉감독님
10         인정       왜구     당신     와우 봉준호감독     영화계     때문
11         외국     이미경     댓글 축하합니       위상       영광     배우
12         로컬       봉준 축하합니     수상     사람들       소름 우리나라
13       영화상       가슴     나라     생각     전세계       수준     소식
14         진정     숟가락     사실     세계       우리       좌빨   마지막
15         한국       뉴스   쓰레기     기사       의미       중요     자랑
16     한국영화       박수     천재     오늘       미국       위대     사회
17 봉준호감독님       시절     감사     실화       인간 황금종려상     얘기
18         리스 축하드립니     존경   문재앙       발전       각본     예술
19         세계       토착 미국에서   이야기       소식       표현     기사
20         위상     자한당     우파     이걸       완전       가치     세상
    Topic.8
1      자랑
2  수상소감
3      배우
4      오늘
5      하나
6  봉감독님
7      소름
8      기분
9      국민
10 감사합니
11     반미
12     내용
13     이상
14     최초
15     사건
16 봉준호는
17     좌파
18     감사
19     자신
20     기생</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 토픽별 주요 단어 시각화하기</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 토픽별로 beta가 가장 높은 단어 추출하기</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 토픽별 beta 상위 10개 단어 추출</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>top_term_topic <span class="ot">&lt;-</span> term_topic <span class="sc">%&gt;%</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(topic) <span class="sc">%&gt;%</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(beta, <span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>top_term_topic</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 81 × 3
# Groups:   topic [8]
   topic term         beta
   &lt;int&gt; &lt;chr&gt;       &lt;dbl&gt;
 1     1 작품상     0.0594
 2     1 대박       0.0288
 3     1 진심       0.0279
 4     1 감독상     0.0269
 5     1 작품       0.0232
 6     1 축하드립니 0.0201
 7     1 시상식     0.0170
 8     1 각본상     0.0161
 9     1 관왕       0.0146
10     1 인정       0.0143
# ℹ 71 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. 막대 그래프 만들기</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("scales") # restart 알림 발생 시, '아니요' 선택</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'scales'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:purrr':

    discard</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:readr':

    col_factor</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(top_term_topic,</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder_within</span>(term, beta, topic),</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> beta,</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="fu">factor</span>(topic))) <span class="sc">+</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> topic, <span class="at">scales =</span> <span class="st">"free"</span>, <span class="at">ncol =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reordered</span>() <span class="sc">+</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">n.breaks =</span> <span class="dv">4</span>,</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">number_format</span>(<span class="at">accuracy =</span> .<span class="dv">01</span>)) <span class="sc">+</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="NLP_4_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="문서를-토픽별로-분류" class="level3">
<h3 class="anchored" data-anchor-id="문서를-토픽별로-분류">문서를 토픽별로 분류</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 문서별 토픽 확률 gamma 추출하기</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>doc_topic <span class="ot">&lt;-</span> <span class="fu">tidy</span>(lda_model, <span class="at">matrix =</span> <span class="st">"gamma"</span>)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>doc_topic</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 26,144 × 3
   document topic gamma
   &lt;chr&gt;    &lt;int&gt; &lt;dbl&gt;
 1 206          1 0.116
 2 566          1 0.127
 3 578          1 0.116
 4 598          1 0.127
 5 1762         1 0.140
 6 1            1 0.120
 7 2            1 0.118
 8 3            1 0.108
 9 4            1 0.112
10 5            1 0.118
# ℹ 26,134 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># gamma 살펴보기</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>doc_topic <span class="sc">%&gt;%</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(topic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 2
  topic     n
  &lt;int&gt; &lt;int&gt;
1     1  3268
2     2  3268
3     3  3268
4     4  3268
5     5  3268
6     6  3268
7     7  3268
8     8  3268</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 문서 1의 gamma 합계</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>doc_topic <span class="sc">%&gt;%</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(document <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sum_gamma =</span> <span class="fu">sum</span>(gamma))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  sum_gamma
      &lt;dbl&gt;
1         1</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 문서별 확률이 가장 높은 토픽으로 분류하기</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 문서별로 확률이 가장 높은 토픽 추출하기</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>doc_class <span class="ot">&lt;-</span> doc_topic <span class="sc">%&gt;%</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(document) <span class="sc">%&gt;%</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(gamma, <span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>doc_class</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5,705 × 3
# Groups:   document [3,268]
   document topic gamma
   &lt;chr&gt;    &lt;int&gt; &lt;dbl&gt;
 1 1            6 0.139
 2 1            7 0.139
 3 10           1 0.132
 4 10           3 0.132
 5 10           4 0.132
 6 10           6 0.132
 7 10           7 0.132
 8 100          5 0.171
 9 1000         3 0.168
10 1001         8 0.153
# ℹ 5,695 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. 원문에 확률이 가장 높은 토픽 번호 부여하기</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="co"># integer로 변환</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>doc_class<span class="sc">$</span>document <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(doc_class<span class="sc">$</span>document)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 원문에 토픽 번호 부여</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>news_comment_topic <span class="ot">&lt;-</span> raw_news_comment <span class="sc">%&gt;%</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(doc_class, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span> <span class="ot">=</span> <span class="st">"document"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 결합 확인</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>news_comment_topic <span class="sc">%&gt;%</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, topic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,587 × 2
      id topic
   &lt;int&gt; &lt;int&gt;
 1     1     6
 2     1     7
 3     2     2
 4     2     5
 5     2     7
 6     3     8
 7     4     6
 8     4     8
 9     5     3
10     5     4
# ℹ 6,577 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. 토픽별 문서 수 살펴보기</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>news_comment_topic <span class="sc">%&gt;%</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(topic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 2
  topic     n
  &lt;int&gt; &lt;int&gt;
1     1   809
2     2   694
3     3   669
4     4   702
5     5   725
6     6   732
7     7   692
8     8   682
9    NA   882</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># topic이 NA인 문서 제거</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>news_comment_topic <span class="ot">&lt;-</span> news_comment_topic <span class="sc">%&gt;%</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>news_comment_topic <span class="sc">%&gt;%</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(topic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 2
  topic     n
  &lt;int&gt; &lt;int&gt;
1     1   809
2     2   694
3     3   669
4     4   702
5     5   725
6     6   732
7     7   692
8     8   682</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 토픽별 문서 수와 단어 시각화하기</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 토픽별 주요 단어 목록 만들기</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>top_terms <span class="ot">&lt;-</span> term_topic <span class="sc">%&gt;%</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(topic) <span class="sc">%&gt;%</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(beta, <span class="at">n =</span> <span class="dv">6</span>, <span class="at">with_ties =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">term =</span> <span class="fu">paste</span>(term, <span class="at">collapse =</span> <span class="st">", "</span>))</span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>top_terms</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 2
  topic term                                        
  &lt;int&gt; &lt;chr&gt;                                       
1     1 작품상, 대박, 진심, 감독상, 작품, 축하드립니
2     2 블랙리스트, 박근혜, 좌파, 정부, 근데, 빨갱이
3     3 수상, 사람, 우리나라, 생각, 오스카, 쾌거    
4     4 조국, 가족, 국민, 보수, 현실, 최고          
5     5 정치, 봉감독, 축하합니, 세계, 대박, 나라    
6     6 자랑, 역사, 한국, 한국영화, 세계, 감동      
7     7 진짜, 우리, 문재인, 정권, 최고, 문화        
8     8 자랑, 수상소감, 배우, 오늘, 하나, 봉감독님  </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. 토픽별 문서 빈도 구하기</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>count_topic <span class="ot">&lt;-</span> news_comment_topic <span class="sc">%&gt;%</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(topic)</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>count_topic</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 2
  topic     n
  &lt;int&gt; &lt;int&gt;
1     1   809
2     2   694
3     3   669
4     4   702
5     5   725
6     6   732
7     7   692
8     8   682</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. 문서 빈도에 주요 단어 결합하기</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>count_topic_word <span class="ot">&lt;-</span> count_topic <span class="sc">%&gt;%</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(top_terms, <span class="at">by =</span> <span class="st">"topic"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">topic_name =</span> <span class="fu">paste</span>(<span class="st">"Topic"</span>, topic))</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>count_topic_word</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 4
  topic     n term                                         topic_name
  &lt;int&gt; &lt;int&gt; &lt;chr&gt;                                        &lt;chr&gt;     
1     1   809 작품상, 대박, 진심, 감독상, 작품, 축하드립니 Topic 1   
2     2   694 블랙리스트, 박근혜, 좌파, 정부, 근데, 빨갱이 Topic 2   
3     3   669 수상, 사람, 우리나라, 생각, 오스카, 쾌거     Topic 3   
4     4   702 조국, 가족, 국민, 보수, 현실, 최고           Topic 4   
5     5   725 정치, 봉감독, 축하합니, 세계, 대박, 나라     Topic 5   
6     6   732 자랑, 역사, 한국, 한국영화, 세계, 감동       Topic 6   
7     7   692 진짜, 우리, 문재인, 정권, 최고, 문화         Topic 7   
8     8   682 자랑, 수상소감, 배우, 오늘, 하나, 봉감독님   Topic 8   </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. 토픽별 문서 수와 주요 단어로 막대 그래프 만들기</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(count_topic_word,</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(topic_name, n),</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> n,</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> topic_name)) <span class="sc">+</span></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> n) , <span class="co"># 문서 빈도 표시</span></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.2</span>) <span class="sc">+</span> <span class="co"># 막대 밖에 표시</span></span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> term), <span class="co"># 주요 단어 표시</span></span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="fl">1.03</span>, <span class="co"># 막대 안에 표시</span></span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">col =</span> <span class="st">"white"</span>, <span class="co"># 색깔</span></span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="co"># 두껍게</span></span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">family =</span> <span class="st">"nanumgothic"</span>) <span class="sc">+</span> <span class="co"># 폰트</span></span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), <span class="co"># y축-막대 간격 줄이기</span></span>
<span id="cb71-16"><a href="#cb71-16" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">820</span>)) <span class="sc">+</span> <span class="co"># y축 범위</span></span>
<span id="cb71-17"><a href="#cb71-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :
font family not found in Windows font database</code></pre>
</div>
<div class="cell-output-display">
<p><img src="NLP_4_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="토픽-이름-짓기" class="level3">
<h3 class="anchored" data-anchor-id="토픽-이름-짓기">토픽 이름 짓기</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 토픽별 주요 문서 살펴보고 토픽 이름 짓기</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 원문을 읽기 편하게 전처리하기, gamma가 높은 순으로 정렬하기</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>comment_topic <span class="ot">&lt;-</span> news_comment_topic <span class="sc">%&gt;%</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">reply =</span> <span class="fu">str_squish</span>(<span class="fu">replace_html</span>(reply))) <span class="sc">%&gt;%</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>gamma)</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>comment_topic <span class="sc">%&gt;%</span></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(gamma, reply)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5,705 × 2
   gamma reply                                                                  
   &lt;dbl&gt; &lt;chr&gt;                                                                  
 1 0.253 생각해 보면 재미있는 사실이 봉감독이 만든 '살인의 추억' 진범이 잡혀 오…
 2 0.246 한류의 또다른 이정표를 봉준호가 해내는구가 오스카상 특히 작품상은 비영…
 3 0.238 이명박근혜만 조지면 됩니다... 친일파 놈들만 숙청하면 됩니다... 봉준호 …
 4 0.235 아카데미 시상식의 빅5로는 작품상 .감독상 .남우주연상 .여우주연상 .각본…
 5 0.234 TK출신 봉준호 감독이 고발한 조국 정경심 조민 조원 기생충가족 이야기 최…
 6 0.234 기생충같은 조국가족이 있어 상을 받은 것이다..전세계인들이 파렴치한 조… 
 7 0.229 도서관서 여자화장실서 나오는 남자사서보고 카메라있는지없는지 확인했다… 
 8 0.229 지금 경상도 출신 조두순이 석방됐고 경상도 출신 승무원이 서울 출신 대학…
 9 0.228 이개박 아! 보고 있냐!~ 너가 호주머니에 돈쳐먹으려고 대통 할때 봉감독을…
10 0.226 박근혜 자한당 독재시절 봉준호, 송강호를 블랙리스트 올려놓고 활동 방해,…
# ℹ 5,695 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. 주요 단어가 사용된 문서 살펴보기</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 토픽 1 내용 살펴보기</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>comment_topic <span class="sc">%&gt;%</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(topic <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> <span class="fu">str_detect</span>(reply, <span class="st">"작품"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">50</span>) <span class="sc">%&gt;%</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(reply)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "아카데미 시상식의 빅5로는 작품상 .감독상 .남우주연상 .여우주연상 .각본상이 꼽힌다. 아카데미 시상식 역사상 ‘빅5’를 모두 수상한 영화는 ‘어느날 밤에 생긴 일[1935]’, ‘뻐꾸기 둥지 위로 날아간 새[1976]’, ‘양들의 침묵[1992]’ ..세 작품뿐 ㄷㄷㄷ 암튼 기생충 대단"                                                          
 [2] "각본상, 국제영화상 받을때까지는 와~ 이러다가 감독상 받을때 헉! 우와대단! 이러다 작품상 발표할때는 기절할뻔함! 대박!"                                                                                                                                                                                                    
 [3] "작품상 감독상 각본상 국제영화상 4관왕 진짜 오스카를 휩쓸었다 와.. 정말 감동이고 축하드립니다!!"                                                                                                                                                                                                                         
 [4] "외국장편때 음~각본상때 오~감독상때 우와~작품상때 헐~대박임 ㅠ"                                                                                                                                                                                                                                                          
 [5] "각본상, 외국여영화상 수상 대박입니다~! 축하하고 잠시후에 봉준호 감독상과 영어 아닌 언어로 외국영화가 수상한 적이 없는 작품상도 기대해봅니다!!!"                                                                                                                                                                         
 [6] "각본상 국제영화상 감독상 최고작품상 4관왕입니다."                                                                                                                                                                                                                                                                       
 [7] "대박!!!!4관왕! 감독상,각본상,국제영화상수상에 이어 작품상..."                                                                                                                                                                                                                                                           
 [8] "각본상을 주면 작품상을 탈 가능성이 많아진다....는 말들이 있는데, 아카데미에선 [주류 메이저 영화가 아니고선] 작품상 대신 각본상으로 끝내는 경우가 더 많습니다. 제발, 공부 좀 하고 글 쓰세요. '피아노'가 그랬고, '파고'가 그랬고, '펄프 픽션'이 그랬고. Many More. 물론 이번 시상식에선 제 말이 완전히 틀리길 기원합니다."
 [9] "작품상까지 4관왕. 대박. 리스펙."                                                                                                                                                                                                                                                                                        
[10] "각본상때 오~감독상때 우와~작품상때 헐~대박임 ㅠ"                                                                                                                                                                                                                                                                        
[11] "역대시상식 봐봐라 어디 제작사 사장이 나와서 설치냐? 현타온다. 디즈니 영화 작품상타면 밥아이거가 껴드냐?"                                                                                                                                                                                                                
[12] "감독상도 깜놀했는데 작품상 호명되었을 때 눈물났어요.정말 자랑스럽습니다!"                                                                                                                                                                                                                                               
[13] "각본상 국제영화상 감독상 최우수작품상 4관왕 대박 ㅋㅋㅋㅋㅋㅋㅋㅋㅋ"                                                                                                                                                                                                                                                    
[14] "진심으로 축하드립니다 솔직히 2개 부문 정도 생각했는데 4개의 상 이것은 대박^^ 작품상 감독상받았으면 최고의 영화로 인정받은것 같네요 다음에는 조연상 주연상도 받았으면 좋겠네요"                                                                                                                                          
[15] "나만 울었냐? 정말 감독상 봉준호 호명되는 순간 눙물이... 최우수 작품상도 가즈아~~~~~~"                                                                                                                                                                                                                                   
[16] "대한민국이 아시아 최강 영화강국이다 아카데미 작품상 감독상 각본상 축하합니다 ㅋㅋㅋㅋ"                                                                                                                                                                                                                                  
[17] "작품상까지 수상하면 좋을듯... 감독상, 작품상, 각본상이라니... 생각만 해도 흐믓합니다. 물론 지금도 흐믓~ 중 ^^"                                                                                                                                                                                                          
[18] "뜬금없이 기생충 축하하면서 방탄소년단 좀 안 엮었으면 좋겠다 보나마나 방탄 팬일 텐데 그거랑은 차원이 다르게 대단한 거다 기생충 진심 축하축하 리얼로 눈물났음ㅠㅜ게다가 작품상은 대상과 같은 거라던데 진심 이건 그냥 최고다 한국문화사의 레전드로 남을 영화"                                                              
[19] "최우수 작품상이라니... 타이타닉 같은 대작만 받는줄 알았는데 한국의 기생충이....그 상을 받다니.... 올해 다들 대박나세요~^^"                                                                                                                                                                                              
[20] "감독상도 축하받아야 하지만 이렇게 되면 작품상은 좀 힘들수 있겠네요? 우리나라 문화의 위상을 높여준 작품에 찬사를 보냅니다."                                                                                                                                                                                              
[21] "이건 진짜 대단한 일인게..헐리우드 자본이 아닌, 인종차별로 유명했던 그 오스카가 한국에서 만든 그냥 진짜 순수 한국영화에 작품상까지 줬다는건...시대가 변하고 있다. 정말 엄청난 사건이고 역사다"                                                                                                                           
[22] "진짜 각본상, 국제영화상, 감독상에 이어 작품상까지 ㅠㅠㅠ아카데미에서 작품상은 정말 생각도 못했는데 너무너무 축하드려요!!! 정말 자랑스럽고 한국 영화계에서 역사적인 이런 기쁜 순간을 함께 축하할 수 있어서 행복하네요! 정말 4관왕 너무 축하드려요!!♡♡"                                                                   
[23] "최우수 작품상까지!! 축하드립니다 ㅎ"                                                                                                                                                                                                                                                                                    
[24] "우와~~~ 최우수 작품상까지! 축하드립니다"                                                                                                                                                                                                                                                                                
[25] "이건아니다 외국사람눈에서보는거니까 넘어가겠다 작품성 글쎄다"                                                                                                                                                                                                                                                           
[26] "기생충이 아이리시맨보다 작품성이 뛰어나다고? 도저히 이해가 안된다"                                                                                                                                                                                                                                                      
[27] "감독상은? 최소 3개 외국영화,감독,작품상은 기대했는데.."                                                                                                                                                                                                                                                                 
[28] "설마했는데 감독상, 작품상, 각본상을 죄다 휩쓸어버릴 줄이야. 이건 미친 꿈이야!!!! 대박~~!!!"                                                                                                                                                                                                                             
[29] "솔직히 눈물난다ㅡ내가 내 인생영화로 꼽았던 작품! 개봉 첫날 두번 봤다 ㅜ.ㅜ"                                                                                                                                                                                                                                             
[30] "감독상과 작품상 동시 수상자 몇명이나 있나요?"                                                                                                                                                                                                                                                                           
[31] "작품상 수상이라니.. 진심으로 축하드립니다...!!"                                                                                                                                                                                                                                                                         
[32] "솔직히 눈물난다ㅡ내가 내 인생영화로 꼽았던 작품! 개봉첫날 두번 봤다 ㅜ.ㅜ"                                                                                                                                                                                                                                              
[33] "백인우월주의가 팽배한 그 나라에서 조차 인정할 수 밖에 없을만큼 대단한 작품이었다는 반증인거지. 그리고 저 영화 보고 기분 더러웠다는 건 제대로 느낀거 아닐까? 기생충 자체가 사회풍자가 들어있으니까. 원래 너무 현실적인게 가장 불편함. 극구 부정하고 싶거든."                                                             
[34] "각본상,국제상,감독상 ...어디서 듣도보도 못한 아차상 같은 쩌리처리용 상 아닌가? 아카데미 진짜상은 작품상, 남우주연상,여우주연상 이 세가지 뿐이지 나머지는 다 민심달래기용 쩌리상"                                                                                                                                        
[35] "작품상/감독상과 외국영화상 2개 더 갑시다"                                                                                                                                                                                                                                                                               
[36] "외국어 영화상 하나 더 받고 끝!, 작품/감독상은 좀 힘들 듯."                                                                                                                                                                                                                                                              
[37] "각본상준거보니 작품상 감독상은 1917주려나보다.."                                                                                                                                                                                                                                                                        
[38] "이런 최우수 작품상도 수상이네 4관왕 축하합니다"                                                                                                                                                                                                                                                                         
[39] "야홋~~~~~작품상~~~~~ 오스카 4관왕!!!! 축하합니다!!!"                                                                                                                                                                                                                                                                    
[40] "김기덕 감독님 영화는 이렇게 해야됩니다. 맨날 어둡고 보기 힘든 영화만 만들지 마시고 이런 작품도 만들어 주세요! 봉 감독님 진심 축하드립니다."                                                                                                                                                                             
[41] "일베 벌레들아 아카데미 작품상도 위조했다 그러지 그랬냐?"                                                                                                                                                                                                                                                                
[42] "봉감독이 종북좌파였구나... 기생충 종북개그는 오히려 종북을 조롱하는거 처럼 보였는데 아니었네 ㅎㅎㅎ 암튼 정말 대단하고 대단하다 작품상 감독상이라니...진짜 영화 역사를 새로 쓴 엄청난 감독이다!!"                                                                                                                       
[43] "티비조선 여자진행자 넘 딸린다 뭔 아직까지 기생충이 타작품과 동점이냐? 같은 3개수상했다고 상이 다 같은 줄 아냐 각본상 감독상 장편영화상이다!"                                                                                                                                                                            
[44] "요즘 오스카는 대중성[어렵지 않고 재미가 있는] 없는 영화에 상을 안주는 경향이 있다. 시상식의 화제성과 흥행 때문이겠지. 작년 수상작 그린북도 그랬고 기생충 역시 작품성과 대중성 모두 갖췄다는게 4관왕의 비결인듯."                                                                                                        
[45] "기생충, 2020 아카데미 시상식에서 지금 최고 대상인 작품상을 비롯하여 각본상, 외국어영화상, 감독상까지 모두 싹쓸이!!! 이게 꿈이냐??!@@ 1개만 타도 대성공인데....봉준호감독님! 오늘은 대한민국이 전 세계에 K-POP에 이어 영화도 선전포고를 한 역사적인 날!! 한국 영화, 이제부터 시작입니다!!!........"                      
[46] "드디어 헐리우드도 선을 넘어 맛이가는구나. 트럼프와 그 겅책이 그렇게 싫었나. 봉준호같은 쓰레기 동영상 제작자한테 감독상, 작품상을 줬다는건 말 다한거임."                                                                                                                                                                 
[47] "봉준호 감독 4관왕 따봉입니다 기생충 아카데미 4관왕 작품상까지 휩쓴 대단하십니다 존경스럽고 멋지시네요 더 좋은 영화 만드시길 기대해 봅니다"                                                                                                                                                                              
[48] "대박~외국영화가 작품상까지 받을 줄은 몰랐는데~축하합니다 오픈마인드를 가진 사회임을 확인"                                                                                                                                                                                                                               
[49] "기생충이 얼마나 대단한 영화인지를 보여주는게 아카데미 101년 역사에 단한번도 외국영화가 작품상 받은 적이 없다 그만큼 작품상에는 사회비평 쪽에 많은 점수를 준다"                                                                                                                                                          
[50] "좌파영화인 봉준호가 좌파영화로 아카데미 작품상. 대박~~~ 배 아프겠다 안보겄다던 쓰레기들."                                                                                                                                                                                                                               </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>comment_topic <span class="sc">%&gt;%</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(topic <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> <span class="fu">str_detect</span>(reply, <span class="st">"진심"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">50</span>) <span class="sc">%&gt;%</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(reply)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "소름이 돋을 정도로 믿기지 않습니다! 진심으로 축하드립니다 살인의추억을 보고 우리나라에도 이렇게 훌륭한 영화를 만드는 감독이 있구나 느꼈고 그 이후로 계속 봉감독님 영화를 챙겨보게 되었는데 이제는 세계인도 인정해주는 감독이 되어 너무나도 벅찹니다 다시한번 진심으로 축하드립니다"   
 [2] "와… 진심 충격이고, 너무 기쁘다. 심장이 쿵쿵대. 이건 정말 대박사건."                                                                                                                                                                                                                   
 [3] "한국영화계에 이런일이 생길 줄은 꿈에도 몰랐는데 4관왕 진심으로 축하드립니다."                                                                                                                                                                                                         
 [4] "진심으로 축하드립니다 솔직히 2개 부문 정도 생각했는데 4개의 상 이것은 대박^^ 작품상 감독상받았으면 최고의 영화로 인정받은것 같네요 다음에는 조연상 주연상도 받았으면 좋겠네요"                                                                                                        
 [5] "뜬금없이 기생충 축하하면서 방탄소년단 좀 안 엮었으면 좋겠다 보나마나 방탄 팬일 텐데 그거랑은 차원이 다르게 대단한 거다 기생충 진심 축하축하 리얼로 눈물났음ㅠㅜ게다가 작품상은 대상과 같은 거라던데 진심 이건 그냥 최고다 한국문화사의 레전드로 남을 영화"                            
 [6] "와 대박이네요 ~ 진심으로 축하드립니다."                                                                                                                                                                                                                                               
 [7] "우울한 뉴스만 가득한 요즘에 온국민을 기쁘게한 소식 감사하고 감사합니다. 진심으로 축하드립니다!"                                                                                                                                                                                       
 [8] "진심으로 축하 드립니다!! 대한민국 역사상 오스카상 후보에 오른것도 대단한데 4관왕.. 전 세계인 들에게 대한민국 국격 위상을 널리 홍보한 봉준호 감독과 출연배우 당신들이 진정한 애국자 입니다."                                                                                           
 [9] "와.. 대박 진심 호명순간 소리질렀어여"                                                                                                                                                                                                                                                 
[10] "작품상 수상이라니.. 진심으로 축하드립니다...!!"                                                                                                                                                                                                                                       
[11] "진심으로 축하하며 여러분들이 진정한 애국자네요"                                                                                                                                                                                                                                       
[12] "세계가 인정하는 대한민국 예술! 진심으로 자랑스럽다ㅠㅠ"                                                                                                                                                                                                                               
[13] "김기덕 감독님 영화는 이렇게 해야됩니다. 맨날 어둡고 보기 힘든 영화만 만들지 마시고 이런 작품도 만들어 주세요! 봉 감독님 진심 축하드립니다."                                                                                                                                           
[14] "봉감독님의 오스카 4관왕 수상을 진심으로 축하드립니다."                                                                                                                                                                                                                                
[15] "수상소감 정말 센스있고 멋져요 감독상 수상 진심으로 축하드립니다.."                                                                                                                                                                                                                    
[16] "한국 아니 아시아 영화의 역사를 새로 쓴 기생충과 봉준호 감독님께 진심어린 박수를 보냅니다! 정말 너무너무 자랑스럽네요~~"                                                                                                                                                               
[17] "봉감독님 덕분에 조국 사태를 세계에 알리는 계기가 되었습니다~ 진심으로 축하드립니다"                                                                                                                                                                                                   
[18] "와 진심 너무너무 멋집니다. 봉준호 감독님 수고많으셨어요!!!!!!"                                                                                                                                                                                                                        
[19] "진심 대박이다.와"                                                                                                                                                                                                                                                                     
[20] "정말 대단하다는 말밖에는~ 진심으로 축하드립니다. 앞으로도 좋은 작품 많이 만들어주세요~^^"                                                                                                                                                                                             
[21] "진심으로 축하합니다. 진정한 국위선양이며 한국 문화계의 해외 진출에 큰 밑거름이 되기를 기대합니다."                                                                                                                                                                                    
[22] "대박입니다~~ 진심으로 축하합니다~!!!"                                                                                                                                                                                                                                                 
[23] "아카데미 4관왕 거머쥐신 봉준호 감독님 진심 추카드려요"                                                                                                                                                                                                                                
[24] "캬 역사를만드셨네 진심 축하드립니다"                                                                                                                                                                                                                                                  
[25] "봉준호 감독관님 진심으로 축하드립니다."                                                                                                                                                                                                                                               
[26] "이야~^^넘뿌듯하네요ㅡ정말진심으로 축하드립니다. 한국영화가 앞으로 꽃길만 걷길 기원합니다. 봉준호감독님 존경스럽습니다. 축하합니다~^^♡"                                                                                                                                                
[27] "근데 나는 봉준호 송강호도 대단하지만 이선균이 진심 대단함. 이선균 필모는 넘사네 진짜. 작품도 다양하고."                                                                                                                                                                               
[28] "와 진심 대박 ㅜㅜ 화이트 파티인 아카데미에서 ㅠㅜ"                                                                                                                                                                                                                                    
[29] "진짜대단하네요.진심 대박 축하합니다."                                                                                                                                                                                                                                                 
[30] "이 작품을 기준으로 앞으로도 계속 쓰여질 것입니다. 진심으로 축하드립니다^^"                                                                                                                                                                                                            
[31] "봉테일님 ~ 진심으로 축하드려요 '기생충' 다시 볼거예요 정말 멋지십니다 !!!"                                                                                                                                                                                                            
[32] "너무 감격입니다 최우수작품상까지 4관왕 ‥ 우울한 한국을 격상시켜주신 기생충영화관계자님들께 국민의 한사람으로 진심으로 감사드립니다"                                                                                                                                                   
[33] "정말 진심어린 축하를 보내고 또 당연히 축하를 받아야겠죠, 아쉽다면 세월호가 왜 튀어나오고 끼어드노."                                                                                                                                                                                   
[34] "한국문화는 1등수준. 정치는 개돼지 3등수준. 대한민국 문화수준을 엎 그레이드 한 봉준호감독에게 존경을 표한다. 월드컵4강.봉준호감독 오스카수상. 한국국민들 절대로 잊혀지지않는 대사건이다. 정말 진심으로 축하드립니다.특히 CJ가 한국영화 산업에 큰 발전에 국민의 한 사람으로 감사드린다."
[35] "아카데미 4관왕 진심으로 축하드립니다. 한국 영화계의 미래가 되어 주시길 바랍니다."                                                                                                                                                                                                     
[36] "봉준호 감독 정말 존경합니다 소감도 아주 멋졌어요 바람난 누구누구감독은 진심 반성좀하길 가화만사성이다"                                                                                                                                                                                
[37] "역사를 새로 쓰셨습니다.... 같은 시대에 살고 있다는게 너무나 자랑스럽네요 소름의 연속이였고 진심으로 축하드려요~♡ enjoy drink~♡"                                                                                                                                                       
[38] "4관왕 진심으로 축하드리고 티비로밖에 중계를 안한게 소름이다...이걸 생방으로 못보게하다니...."                                                                                                                                                                                         
[39] "우와 !!!!! 진심으로 축하드려요 !!!!"                                                                                                                                                                                                                                                  
[40] "진심 일하면서 듣다가 소리지를뻔."                                                                                                                                                                                                                                                     
[41] "와,진심 대단하다"                                                                                                                                                                                                                                                                     
[42] "축하드립니다 ! 진심 좋네요 ! 감동 !"                                                                                                                                                                                                                                                  
[43] "진심 축하드립니다~~~ 너무 멋져요!!"                                                                                                                                                                                                                                                   
[44] "진심 축하합니다~~넘 멋져요♡"                                                                                                                                                                                                                                                          
[45] "어~~ 진짜 되네? 진심으로 축하드려요"                                                                                                                                                                                                                                                  
[46] "미쳤다 진심 비명지르고"                                                                                                                                                                                                                                                               
[47] "와...진심 미쳤다이건."                                                                                                                                                                                                                                                                
[48] "진심으로 축하드립니다! 그리고 감사합니다!"                                                                                                                                                                                                                                            
[49] "진심 축하드려요 영화못봤는데 봐야겠네요"                                                                                                                                                                                                                                              
[50] "기생충!! 우와~~^^이게 실화인가요? 진심으로 축하드려요"                                                                                                                                                                                                                                </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>comment_topic <span class="sc">%&gt;%</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(topic <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> <span class="fu">str_detect</span>(reply, <span class="st">"정치"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(reply)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "블랙리스트에 올려놓고 탄압하다가 큰일하니까 이런일에 정치얘기꺼내야 겠냐고 되려 화내는 놈들, 정치적으로 실컷 괴롭히다 김대중당선되고 이젠 화해의시대라고 구라치고 지들이 정권잡으면 또 괴롭히고 반복의 역사 아님? ㅉㅉ"
[2] "정치외교는 엉망인데 예술인들은 역사에 한 획을 긋는구나"                                                                                                                                                                
[3] "정치판은 기생충을 정치적으로 이용하지마라 특히 서울대 문서위조학과 교수 조국 보유정당 민주당과 문재인은 입닥쳐라"                                                                                                      
[4] "아니 이 영화가 무슨 좌파가 승리한 영화에요,? 댓글마다 정치 얘기 투성이여.."                                                                                                                                            
[5] "와 이런 좋은일에도 정치댓글로 편가르기 하는 놈들이 있네"                                                                                                                                                               </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. 토픽 이름 목록 만들기</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>name_topic <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">topic =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>,</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"1. 작품상 수상 축하, 정치적 댓글 비판"</span>,</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"2. 수상 축하, 시상식 감상"</span>,</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"3. 조국 가족, 정치적 해석"</span>,</span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"4. 새 역사 쓴 세계적인 영화"</span>,</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"5. 자랑스럽고 감사한 마음"</span>,</span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"6. 놀라운 4관왕 수상"</span>,</span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"7. 문화계 블랙리스트, 보수 정당 비판"</span>,</span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"8. 한국의 세계적 위상"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 토픽 이름과 주요 단어 시각화하기</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 토픽 이름 결합하기</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>top_term_topic_name <span class="ot">&lt;-</span> top_term_topic <span class="sc">%&gt;%</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(name_topic, name_topic, <span class="at">by =</span> <span class="st">"topic"</span>)</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>top_term_topic_name</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 81 × 4
# Groups:   topic [8]
   topic term         beta name                                 
   &lt;int&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;                                
 1     1 작품상     0.0594 1. 작품상 수상 축하, 정치적 댓글 비판
 2     1 대박       0.0288 1. 작품상 수상 축하, 정치적 댓글 비판
 3     1 진심       0.0279 1. 작품상 수상 축하, 정치적 댓글 비판
 4     1 감독상     0.0269 1. 작품상 수상 축하, 정치적 댓글 비판
 5     1 작품       0.0232 1. 작품상 수상 축하, 정치적 댓글 비판
 6     1 축하드립니 0.0201 1. 작품상 수상 축하, 정치적 댓글 비판
 7     1 시상식     0.0170 1. 작품상 수상 축하, 정치적 댓글 비판
 8     1 각본상     0.0161 1. 작품상 수상 축하, 정치적 댓글 비판
 9     1 관왕       0.0146 1. 작품상 수상 축하, 정치적 댓글 비판
10     1 인정       0.0143 1. 작품상 수상 축하, 정치적 댓글 비판
# ℹ 71 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 막대 그래프 만들기</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(top_term_topic_name,</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder_within</span>(term, beta, name),</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> beta,</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="fu">factor</span>(topic))) <span class="sc">+</span></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> name, <span class="at">scales =</span> <span class="st">"free"</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_reordered</span>() <span class="sc">+</span></span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"영화 기생충 아카데미상 수상 기사 댓글 토픽"</span>,</span>
<span id="cb84-11"><a href="#cb84-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"토픽별 주요 단어 Top 10"</span>,</span>
<span id="cb84-12"><a href="#cb84-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb84-13"><a href="#cb84-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb84-14"><a href="#cb84-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"nanumgothic"</span>),</span>
<span id="cb84-15"><a href="#cb84-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb84-16"><a href="#cb84-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb84-17"><a href="#cb84-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.x =</span> <span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family
not found in Windows font database

Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family
not found in Windows font database

Warning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family
not found in Windows font database</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font
family not found in Windows font database

Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font
family not found in Windows font database

Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font
family not found in Windows font database

Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font
family not found in Windows font database</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :
font family not found in Windows font database</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font
family not found in Windows font database

Warning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font
family not found in Windows font database</code></pre>
</div>
<div class="cell-output-display">
<p><img src="NLP_4_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="최적의-토픽-수-도출" class="level3">
<h3 class="anchored" data-anchor-id="최적의-토픽-수-도출">최적의 토픽 수 도출</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 하이퍼파라미터 튜닝으로 토픽 수 정하기</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 토픽 수 바꿔가며 LDA 모델 여러 개 만들기</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("ldatuning") # 사양이 낮은 컴퓨터는 설치가 어려움, 에러 지속적으로 발생되는 것 확인</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ldatuning)  <span class="co"># windows defender 알림 발생 시, '홈 네트워크, 회사 네트워크 등의 개인 네트워크'만 체크 후 '엑세스 허용' 선택</span></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>models <span class="ot">&lt;-</span> <span class="fu">FindTopicsNumber</span>(<span class="at">dtm =</span> dtm_comment,  <span class="co"># windows defender 알림 발생 시, '홈 네트워크, 회사 네트워크 등의 개인 네트워크'만 체크 후 '엑세스 허용' 선택</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">topics =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">20</span>,</span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>                           <span class="at">return_models =</span> T,</span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>                           <span class="at">control =</span> <span class="fu">list</span>(<span class="at">seed =</span> <span class="dv">1234</span>))</span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>models <span class="sc">%&gt;%</span></span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(topics, Griffiths2004)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   topics Griffiths2004
1      20     -141283.5
2      19     -141247.3
3      18     -141667.9
4      17     -140875.9
5      16     -140968.4
6      15     -140712.2
7      14     -141100.6
8      13     -140976.4
9      12     -140983.1
10     11     -140655.9
11     10     -141126.4
12      9     -141132.6
13      8     -141585.2
14      7     -141900.6
15      6     -142533.0
16      5     -143773.2
17      4     -145126.2
18      3     -147530.3
19      2     -151812.9</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. 최적 토픽 수 정하기</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">FindTopicsNumber_plot</span>(models)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The `&lt;scale&gt;` argument of `guides()` cannot be `FALSE`. Use "none" instead as
of ggplot2 3.3.4.
ℹ The deprecated feature was likely used in the ldatuning package.
  Please report the issue at &lt;https://github.com/nikita-moor/ldatuning/issues&gt;.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="NLP_4_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. 모델 추출하기</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 토픽 수가 8개인 모델 추출하기</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>optimal_model <span class="ot">&lt;-</span> models <span class="sc">%&gt;%</span></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(topics <span class="sc">==</span> <span class="dv">8</span>) <span class="sc">%&gt;%</span></span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(LDA_model) <span class="sc">%&gt;%</span> <span class="co"># 모델 추출</span></span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>  .[[<span class="dv">1</span>]] <span class="co"># list 추출</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># optimal_model</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(optimal_model, <span class="at">matrix =</span> <span class="st">"beta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 58,040 × 3
   topic term       beta
   &lt;int&gt; &lt;chr&gt;     &lt;dbl&gt;
 1     1 자랑  0.0000309
 2     2 자랑  0.0000329
 3     3 자랑  0.000353 
 4     4 자랑  0.00396  
 5     5 자랑  0.0000335
 6     6 자랑  0.0479   
 7     7 자랑  0.00693  
 8     8 자랑  0.0312   
 9     1 한국  0.00436  
10     2 한국  0.0000329
# ℹ 58,030 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># lda_model</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tidy</span>(lda_model, <span class="at">matrix =</span> <span class="st">"beta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 58,040 × 3
   topic term       beta
   &lt;int&gt; &lt;chr&gt;     &lt;dbl&gt;
 1     1 자랑  0.0000309
 2     2 자랑  0.0000329
 3     3 자랑  0.000353 
 4     4 자랑  0.00396  
 5     5 자랑  0.0000335
 6     6 자랑  0.0479   
 7     7 자랑  0.00693  
 8     8 자랑  0.0312   
 9     1 한국  0.00436  
10     2 한국  0.0000329
# ℹ 58,030 more rows</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">License: <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA 2.0</a>.</div>   
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/ChangjunChrisLee/">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/Dr_CJLee">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="mailto:changjun.chris.lee@gmail.com">
      <i class="bi bi-envelope" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>